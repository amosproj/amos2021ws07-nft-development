# syntax=docker/dockerfile:1

FROM python:3.9

COPY requirements.txt requirements.txt
RUN pip3 install -r requirements.txt

COPY . .

ARG APPWRITE_ENDPOINT=$APPWRITE_ENDPOINT
ARG APPWRITE_PROJECT=$APPWRITE_PROJECT
ARG APPWRITE_API_KEY=$APPWRITE_API_KEY
ARG WEB3_INFURA_PROJECT_ID=$WEB3_INFURA_PROJECT_ID
ARG WEB3_INFURA_API_SECRET=$WEB3_INFURA_API_SECRET
ARG ETHERSCAN_API_KEY=$ETHERSCAN_API_KEY
ARG ETHEREUM_NET=$ETHEREUM_NET

CMD [ "python3", "blockchain_crawler.py"]
